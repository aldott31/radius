<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!-- Extend res.partner Form to add ONU info in main area -->
  <record id="view_res_partner_form_olt" model="ir.ui.view">
    <field name="name">res.partner.form.olt</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form"/>
    <field name="arch" type="xml">

      <!-- Add ONU info after the main group -->
      <xpath expr="//sheet/group" position="after">
        <div class="alert alert-warning" role="alert" invisible="not olt_pon_port">
          <strong>ğŸ“¡ Registered ONU for this account:</strong><br/>
          <code><field name="olt_pon_port" readonly="1" nolabel="1" class="d-inline"/></code>
          <span class="ms-2">SN: <field name="ont_serial" readonly="1" nolabel="1" class="d-inline"/></span>
          <br/><br/>
          <button name="action_delete_onu" type="object"
                  string="ğŸ—‘ï¸ Delete ONU"
                  class="btn-danger btn-sm"
                  confirm="Are you sure you want to delete this ONU from the OLT? This will disconnect the customer!"/>
        </div>
      </xpath>

    </field>
  </record>
</odoo>
