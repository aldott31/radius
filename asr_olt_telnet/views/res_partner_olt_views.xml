<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!-- Extend res.partner Form to add ONU info in main area -->
  <record id="view_res_partner_form_olt" model="ir.ui.view">
    <field name="name">res.partner.form.olt</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="radius_odoo_integration.view_partner_form_isp_customer"/>
    <field name="arch" type="xml">

      <!-- Load olt_pon_port invisibly so it's available for conditional display -->
      <xpath expr="//field[@name='ont_serial']" position="attributes">
        <attribute name="placeholder">e.g. ZTEG12345678</attribute>
      </xpath>

      <xpath expr="//field[@name='ont_serial']" position="after">
        <field name="olt_pon_port"/>
      </xpath>

      <!-- Add ONU delete button after olt_pon_port field -->
      <xpath expr="//field[@name='olt_pon_port']" position="after">
        <button name="action_delete_onu" type="object"
                string="ğŸ—‘ï¸ Delete ONU"
                class="btn-danger btn-sm"
                invisible="not olt_pon_port"
                confirm="Are you sure you want to delete this ONU from the OLT? This will disconnect the customer!"/>
      </xpath>

    </field>
  </record>
</odoo>