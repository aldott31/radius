<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- CONTRACT WIZARD FORM VIEW -->
    <record id="view_contract_wizard_form" model="ir.ui.view">
        <field name="name">contract.wizard.form</field>
        <field name="model">contract.wizard</field>
        <field name="arch" type="xml">
            <form string="Kontrate e Re">
                <sheet>
                    <notebook>
                        <!-- TAB 1: TE DHENAT E KONTRATES -->
                        <page string="Te dhenat e Kontrates">
                            <group>
                                <group>
                                    <field name="partner_id"
                                           options="{'no_create': True, 'no_open': True}"
                                           invisible="1"/>

                                    <label for="partner_id" string="Zgjidhni Kontaktin"/>
                                    <div>
                                        <field name="partner_id"
                                               widget="many2one"
                                               options="{'no_create': True}"
                                               nolabel="1"
                                               placeholder="[ Greta Pupa, 2025-12-18 ] - Gret"/>
                                    </div>

                                    <field name="tipi_kontrates"/>
                                    <field name="rregjitruesi"/>
                                    <field name="mjeti_identifikimit"/>
                                    <field name="nr_serial" placeholder="Nr/Serial"/>
                                    <field name="emri_kompanise" placeholder="Emri i Kompanise"/>
                                    <field name="nipt" placeholder="NIPT"/>
                                    <field name="perfaqesuesi_ligjor" placeholder="Përfaqësuesi Ligjor"/>
                                    <field name="nr_personal_perfaqesues" placeholder="Nr. Personal i Përfaqësuesit"/>
                                </group>

                                <group>
                                    <field name="emri" placeholder="Emri"/>
                                    <field name="nr_personal" placeholder="Nr. Personal"/>
                                    <field name="id_number" placeholder="ID Number"/>
                                    <field name="datelindja" placeholder="yyyy-mm-dd"/>
                                    <field name="vendlindja" placeholder="Vendlindja"/>
                                    <field name="adresa_1" placeholder="Adresa 1"/>
                                    <field name="lead" placeholder="Lead"/>
                                    <field name="qyteti" placeholder="Qyteti"/>
                                    <field name="shteti" placeholder="Shteti"/>
                                    <field name="mobile_1" placeholder="Mobile 1"/>
                                    <field name="mobile_2" placeholder="Mobile 2"/>
                                    <field name="tel_fix_1" placeholder="Tel Fix 1"/>
                                    <field name="email" placeholder="Email"/>
                                </group>
                            </group>

                            <group>
                                <field name="comment" placeholder="Comment" nolabel="1"/>
                            </group>
                        </page>

                        <!-- TAB 2: SHERBIMET E ZGJEDHURA -->
                        <page string="Sherbimet e zgjedhura">
                            <group>
                                <group>
                                    <label for="internet"/>
                                    <div class="o_row">
                                        <field name="internet" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_internet"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not internet"
                                               class="oe_inline"/>
                                    </div>

                                    <label for="televizion"/>
                                    <div class="o_row">
                                        <field name="televizion" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_tv"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not televizion"
                                               class="oe_inline"/>
                                    </div>

                                    <label for="telefoni"/>
                                    <div class="o_row">
                                        <field name="telefoni" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_telefon"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not telefoni"
                                               class="oe_inline"/>
                                    </div>

                                    <field name="qyteti_service" placeholder="Qyteti"/>
                                    <field name="lloji_lidhjes"/>
                                    <field name="teknologjia_tv" placeholder="Teknologjia TV"/>
                                    <field name="emri_planit_service" options="{'no_create': True}"/>
                                    <field name="prepaid_months"/>
                                    <field name="ip_statike" widget="radio" options="{'horizontal': true}"/>

                                    <label for="me_keste_internet" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_internet" nolabel="1"/>
                                        <label for="cpe_internet_product_ids" string="CPE Internet" class="oe_inline"/>
                                        <field name="cpe_internet_product_ids" nolabel="1" widget="many2many_tags" options="{'no_create': True}"/>
                                    </div>

                                    <label for="me_keste_router" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_router" nolabel="1"/>
                                        <label for="router_wifi_product_ids" string="Router/Wifi" class="oe_inline"/>
                                        <field name="router_wifi_product_ids" nolabel="1" widget="many2many_tags" options="{'no_create': True}"/>
                                    </div>

                                    <label for="me_keste_tv" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_tv" nolabel="1"/>
                                        <label for="cpe_tv_product_ids" string="CPE TV" class="oe_inline"/>
                                        <field name="cpe_tv_product_ids" nolabel="1" widget="many2many_tags" options="{'no_create': True}"/>
                                    </div>
                                </group>

                                <group string="Cmimi">
                                    <field name="cmimi_lloji_lidhjes" string="Lloji lidhjes"/>
                                    <field name="cmimi_teknologjia_tv" string="Teknologjia TV"/>
                                    <field name="cmimi_planit" string="Emri i Planit"/>
                                    <field name="cmimi_ip_statike" string="IP Statike"/>
                                    <field name="cmimi_cpe_internet" string="CPE Internet"/>
                                    <field name="cmimi_router_wifi" string="Router/Wifi"/>
                                    <field name="cmimi_cpe_tv" string="CPE TV"/>
                                    <separator string=""/>
                                    <field name="cmimi_total" class="oe_subtotal_footer_separator"/>
                                    <field name="total_muaj_paguar" class="oe_subtotal_footer_separator"/>
                                    <separator string=""/>
                                    <field name="data"/>
                                    <field name="afati" widget="selection"/>
                                    <field name="pagesa"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>

                <footer>
                    <button string="Save" type="object" name="action_create_contract" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- ACTION TO OPEN WIZARD -->
    <record id="action_contract_wizard" model="ir.actions.act_window">
        <field name="name">Kontrate e Re</field>
        <field name="res_model">contract.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{}</field>
    </record>

</odoo>