<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- CONTRACT WIZARD FORM VIEW -->
    <record id="view_contract_wizard_form" model="ir.ui.view">
        <field name="name">contract.wizard.form</field>
        <field name="model">contract.wizard</field>
        <field name="arch" type="xml">
            <form string="Kontrate e Re">
                <sheet>
                    <notebook>
                        <!-- TAB 1: TE DHENAT E KONTRATES -->
                        <page string="Te dhenat e Kontrates">
                            <group>
                                <group>
                                    <field name="partner_id"
                                           options="{'no_create': True, 'no_open': True}"
                                           invisible="1"/>

                                    <label for="partner_id" string="Zgjidhni Kontaktin"/>
                                    <div>
                                        <field name="partner_id"
                                               widget="many2one"
                                               options="{'no_create': True}"
                                               nolabel="1"
                                               placeholder="[ Greta Pupa, 2025-12-18 ] - Gret"/>
                                    </div>

                                    <field name="tipi_kontrates"/>
                                    <field name="rregjitruesi"/>
                                    <field name="mjeti_identifikimit"/>
                                    <field name="nr_serial" placeholder="Nr/Serial"/>
                                    <field name="emri_kompanise" placeholder="Emri i Kompanise"/>
                                    <field name="nipt" placeholder="NIPT"/>
                                </group>

                                <group>
                                    <field name="emri" placeholder="Emri"/>
                                    <field name="datelindja" placeholder="yyyy-mm-dd"/>
                                    <field name="vendlindja" placeholder="Vendlindja"/>
                                    <field name="adresa_1" placeholder="Adresa 1"/>
                                    <field name="lead" placeholder="Lead"/>
                                    <field name="qyteti" placeholder="Qyteti"/>
                                    <field name="shteti" placeholder="Shteti"/>
                                    <field name="mobile_1" placeholder="Mobile 1"/>
                                    <field name="mobile_2" placeholder="Mobile 2"/>
                                    <field name="tel_fix_1" placeholder="Tel Fix 1"/>
                                    <field name="email" placeholder="Email"/>
                                </group>
                            </group>

                            <group>
                                <field name="comment" placeholder="Comment" nolabel="1"/>
                            </group>
                        </page>

                        <!-- TAB 2: SHERBIMET E ZGJEDHURA -->
                        <page string="Sherbimet e zgjedhura">
                            <group>
                                <group>
                                    <label for="internet"/>
                                    <div class="o_row">
                                        <field name="internet" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_internet"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not internet"
                                               class="oe_inline"/>
                                    </div>

                                    <label for="televizion"/>
                                    <div class="o_row">
                                        <field name="televizion" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_tv"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not televizion"
                                               class="oe_inline"/>
                                    </div>

                                    <label for="telefoni"/>
                                    <div class="o_row">
                                        <field name="telefoni" widget="boolean_toggle" nolabel="1"/>
                                        <field name="emri_planit_telefon"
                                               placeholder="Emri i Planit"
                                               nolabel="1"
                                               invisible="not telefoni"
                                               class="oe_inline"/>
                                    </div>

                                    <field name="qyteti_service" placeholder="Qyteti"/>
                                    <field name="lloji_lidhjes"/>
                                    <field name="teknologjia_tv" placeholder="Teknologjia TV"/>
                                    <field name="emri_planit_service"
                                           options="{'no_create': True}"/>
                                    <field name="muaji_parapagim"/>
                                    <field name="ip_statike" widget="radio" options="{'horizontal': true}"/>
                                </group>

                                <group>
                                    <field name="data"/>
                                    <field name="afati" widget="selection"/>
                                    <field name="pagesa"/>
                                </group>
                            </group>

                            <separator string="Cmimi"/>

                            <!-- Pricing table -->
                            <group>
                                <group>
                                    <field name="cmimi_internet" string="Internet" placeholder="Cmimi" invisible="not internet"/>
                                    <field name="cmimi_tv" string="Televizion" placeholder="Cmimi" invisible="not televizion"/>
                                    <field name="cmimi_telefon" string="Telefoni" placeholder="Cmimi" invisible="not telefoni"/>
                                    <field name="cmimi_cpe_internet" string="CPE Internet" placeholder="Cmimi"/>
                                    <field name="cmimi_router" string="Router/Wifi" placeholder="Cmimi"/>
                                    <field name="cmimi_cpe_tv" string="CPE TV" placeholder="Cmimi"/>
                                </group>
                            </group>

                            <separator/>

                            <!-- Equipment Section -->
                            <group>
                                <group>
                                    <label for="me_keste_internet" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_internet" nolabel="1"/>
                                        <label for="cpe_internet" string="CPE Internet" class="ml16"/>
                                        <field name="cpe_internet" nolabel="1"/>
                                    </div>

                                    <label for="me_keste_router" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_router" nolabel="1"/>
                                        <label for="router_wifi" string="Router/Wifi" class="ml16"/>
                                        <field name="router_wifi" nolabel="1"/>
                                    </div>

                                    <label for="me_keste_tv" string="Me Keste"/>
                                    <div class="o_row">
                                        <field name="me_keste_tv" nolabel="1"/>
                                        <label for="cpe_tv" string="CPE TV" class="ml16"/>
                                        <field name="cpe_tv" nolabel="1"/>
                                    </div>
                                </group>
                            </group>

                            <separator/>

                            <group>
                                <group>
                                    <field name="cmimi_promo" placeholder="Cmimi Promo"/>
                                </group>
                                <group>
                                    <label for="cmimi_total" string="Cmimi Total" style="font-weight: bold;"/>
                                    <div>
                                        <field name="cmimi_total" nolabel="1" style="font-weight: bold;"/>
                                    </div>

                                    <label for="total_muaj_paguar" string="Total Muaj Paguar" style="font-weight: bold;"/>
                                    <div>
                                        <field name="total_muaj_paguar" nolabel="1" style="font-weight: bold;"/>
                                    </div>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>

                <footer>
                    <button string="Save" type="object" name="action_create_contract" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- ACTION TO OPEN WIZARD -->
    <record id="action_contract_wizard" model="ir.actions.act_window">
        <field name="name">Kontrate e Re</field>
        <field name="res_model">contract.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{}</field>
    </record>

</odoo>
