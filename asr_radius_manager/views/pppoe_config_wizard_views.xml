<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!-- Wizard form -->
  <record id="view_asr_pppoe_config_wizard" model="ir.ui.view">
    <field name="name">asr.pppoe.config.wizard.form</field>
    <field name="model">asr.pppoe.config.wizard</field>
    <field name="arch" type="xml">
      <form string="Generate PPPoE NAS Config">
        <group>
          <field name="device_id" readonly="1"/>
        </group>
        <notebook>
          <page string="MikroTik">
            <field name="output_mikrotik" nolabel="1" readonly="1" class="oe_inline"/>
          </page>
          <page string="Cisco">
            <field name="output_cisco" nolabel="1" readonly="1" class="oe_inline"/>
          </page>
        </notebook>
        <footer>
          <button string="Close" class="btn-secondary" special="cancel"/>
        </footer>
      </form>
    </field>
  </record>

  <!-- Action për ta hapur wizard-in -->
  <record id="action_asr_pppoe_config_wizard" model="ir.actions.act_window">
    <field name="name">Generate PPPoE Config</field>
    <field name="res_model">asr.pppoe.config.wizard</field>
    <field name="view_mode">form</field>
    <field name="target">new</field>
    <field name="context">{'active_id': active_id}</field>
  </record>

  <!-- Buton në formën e asr.device; NDRYSHO inherit_id nëse ke ID tjetër -->
  <record id="view_asr_device_form_inherit_pppoe_btn" model="ir.ui.view">
    <field name="name">asr.device.form.inherit.pppoe</field>
    <field name="model">asr.device</field>
    <field name="inherit_id" ref="asr_radius_manager.view_asr_device_form"/>
    <field name="arch" type="xml">
      <xpath expr="//form/header" position="inside">
        <button name="%(action_asr_pppoe_config_wizard)d"
                type="action"
                string="Generate PPPoE Config"
                class="oe_highlight"/>
      </xpath>
    </field>
  </record>
</odoo>
