<?xml version="1.0" encoding="UTF-8"?>
<odoo>

  <!-- Form View -->
  <record id="view_asr_radius_config_form" model="ir.ui.view">
    <field name="name">asr.radius.config.form</field>
    <field name="model">asr.radius.config</field>
    <field name="arch" type="xml">
      <form string="RADIUS Config">
        <header>
          <button name="action_open_test_wizard"
                  type="object"
                  class="oe_highlight"
                  string="Test Auth"/>
        </header>
        <sheet>
          <group>
            <group string="Company">
              <field name="company_id" readonly="1"/>
            </group>
          </group>

          <notebook>
            <page string="Vendors">
              <group>
                <field name="emit_mikrotik"/>
                <field name="emit_cisco"/>
              </group>
              <group col="1">
                <div class="alert alert-info" role="alert">
                  <strong>ℹ️ Cisco AVPair Format:</strong><br/>
                  Plans generate: <code>ip:interface-config=service-policy input/output [SPEED]M</code><br/>
                  Example: 49M/49M → both input/output 49M
                </div>
              </group>
            </page>

            <page string="FreeRADIUS (SQL &amp; PPP)">
              <group>
                <field name="freeradius_host" placeholder="10.0.0.1"/>
                <field name="freeradius_auth_port"/>
                <field name="freeradius_acct_port"/>
                <field name="ppp_interim"/>
                <field name="ppp_idle_timeout"/>
                <field name="one_session_per_host"/>
              </group>
            </page>

            <page string="Test Auth">
              <group>
                <field name="test_radius_host" placeholder="10.0.0.2"/>
                <field name="test_radius_auth_port"/>
                <field name="test_radius_secret" password="True"/>
              </group>
            </page>
          </notebook>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Server Action që hap gjithmonë rekordin unik (singleton) -->
  <record id="action_open_asr_radius_config" model="ir.actions.server">
    <field name="name">RADIUS Config (Open)</field>
    <field name="model_id" ref="base.model_res_company"/>
    <field name="state">code</field>
    <field name="code"><![CDATA[
action = env['asr.radius.config'].action_open_config()
    ]]></field>
  </record>

  <!-- Menu item për Configuration -->
  <menuitem id="menu_asr_radius_config"
            name="Configuration"
            parent="menu_asr_radius_root"
            action="action_open_asr_radius_config"
            sequence="90"/>

</odoo>